# AI 기반 가공 매출 탐지 모델 개발 포트폴리오

## 1. 프로젝트 개요
- 목표: 전통적 감사 절차의 한계를 넘어, AI가 스스로 데이터 속에서 비정상 패턴을 학습하여 부정 거래를 예측하는 지능형 감사 모델을 개발하고 그 효용성을 입증합니다.
- 핵심 역량: 회계 지식에 기반한 부정위험 식별 능력과 Python을 활용한 데이터 분석 및 '디지털 감사(Digital Audit)' 역량을 증명합니다.
- 발표자료(PPT): [📄 여기서 발표자료 PDF 파일을 확인하실 수 있습니다.](https://github.com/leewjcpa-rgb/CPA-Fraud-Detection-Portfolio/blob/main/가공%20매출%20탐지%20모델%20개발%20포트폴리오.pdf)

---

## 2. 프로젝트의 핵심: 아이디어의 진화 과정

이 프로젝트의 진정한 가치는 단순히 코드를 작성한 것이 아니라, 현실적인 회계 부정 시나리오를 데이터로 구현하기 위한 감사 전략의 발전 과정에 있습니다.

### 1단계: 데이터 생성 - "단순 모방을 넘어선 부정위험 시나리오 설계"
초기 모델은 가공 매출과 리베이트의 1:1 대응이라는 단순한 구조였으나, 실제 감사 환경의 복잡성을 반영하기에는 부족하다고 판단했습니다. 이에 저는 다음과 같은 회계 지식 기반의 아이디어를 제시하여 데이터 생성 시나리오를 직접 고도화했습니다.

- 본인의 아이디어 (주기적 정산 및 시차 교란): 실제 기업 간 거래에서는 일정 기간의 거래를 합산하여 정산하는 점에 착안, 단순 1:1 리베이트 방식은 비현실적이라 판단했습니다. 이에 여러 건의 허위 매출(N)을 분기별로 집계한 후, 리베이트를 차월부터 일정 기간에 걸쳐 불규칙하게 분할 지급(M)하는, 즉 총액 기준의 주기적 정산 방식을 직접 설계하여 시간적 패턴을 교란시켰습니다.

- 본인의 아이디어 (제3자 우회 거래): 자금 세탁 과정에서 추적을 회피하기 위해 차명계좌나 위장회사를 이용하는 점을 반영, 리베이트의 일부는 원 거래처가 아닌 제3의 특수관계자(공범) 계좌로 송금되는 우회 거래 시나리오를 설계하여 감사 추적의 복잡성을 극대화했습니다.

이러한 저의 아이디어를 바탕으로, AI의 분석 능력을 시험할 수 있는 현실적인 '부정위험 시나리오'를 데이터셋에 구현할 수 있었습니다. (`01_data_creation.py`)

### 2단계: 부정 탐지 모델 - "전통적 감사와 AI 감사의 비교 검증"
부정 거래를 탐지하는 과정에서도, 저는 AI의 우수성을 일방적으로 제시하는 것이 아니라 전통적 감사 접근법의 최선과 비교하는 엄밀한 검증 과정을 거쳐야 한다고 판단했습니다.

- 전통적 감사 모델의 정교화: AI와의 공정한 비교를 위해, 저는 단순 규칙 기반 모델을 넘어 중요성(Materiality) 관점에서 거래 규모별로 위험 가중치를 차등 적용하고, 다른 위험 요소들의 가중치를 현실적으로 재조정하여 '숙련된 감사인' 수준의 정교한 위험 점수(Risk Scoring) 모델을 만들도록 방향을 제시했습니다.

- AI 분석 모델의 채택: 단일 모델의 한계를 넘어 더 높은 탐지율을 추구하기 위해, 저는 여러 머신러닝 모델의 강점을 결합하는 '스태킹 앙상블(Stacking Ensemble)' 모델을 최종 분석 도구로 채택하는 결정을 내렸습니다.

이러한 논의 과정을 거쳐, 단순히 두 모델을 나열하는 것이 아니라 "최선을 다한 전통적 감사 방법론과 AI의 데이터 기반 방법론이 어떻게 다르고, 어떤 성과의 차이를 보이는가"를 명확하게 비교 분석할 수 있었습니다. (`02_fraud_detection.py`)

---

## 3. 프로젝트 결과 및 실행 방법

### 결과
- 'AI 탐정 팀(스태킹 모델)'이 정교하게 설계된 '전통적 감사(규칙 기반 모델)'보다 월등히 높은 부정 거래 탐지율(Recall)을 기록하며, AI 기반 감사의 효용성과 잠재력을 객관적인 수치로 증명했습니다.

### 실행 방법 (How to Run)

본 프로젝트는 크게 **데이터 생성** (`01_data_creation.py`)과 **분석 모델 실행** (`02_fraud_detection.py`) 두 단계로 구성됩니다.

`01_data_creation.py`는 분석에 필요한 대용량 데이터 파일(각 165MB, 3MB)을 생성합니다. 하지만 GitHub의 파일 크기 제한(25MB)으로 인해, 이 결과물 파일들은 본 저장소에 포함되어 있지 않습니다.

따라서 분석 코드를 실행하는 방법에는 다음 두 가지 선택지가 있습니다:

---

**Case 1: 모든 코드를 직접 실행하여 데이터 생성부터 분석까지 진행 (권장)**

이 방법은 프로젝트의 전체 과정을 직접 실행해보는 가장 확실한 방법입니다.

1.  **사전 준비:**
    - 이 GitHub 저장소에서 프로젝트 전체를 다운로드(`Download ZIP`)한 후 압축을 풉니다.
    - 프로젝트 폴더 내에 **`data`** 라는 이름의 새 폴더를 만듭니다.

2.  **터미널(CMD) 열기:**
    - 다운로드한 프로젝트 폴더(`CPA-Fraud-Detection-Portfolio-main`)를 엽니다.
    - 폴더 상단의 주소 표시줄을 클릭한 뒤, 내용을 모두 지우고 **`cmd`** 라고 입력한 후 `Enter` 키를 누릅니다.

3.  **라이브러리 설치:**
    - 방금 열린 검은색 명령 창(터미널)에 아래 명령어를 그대로 입력하고 `Enter` 키를 누릅니다.
    ```
    pip install pandas scikit-learn
    ```

4.  **데이터 생성 코드 실행:**
    - 라이브러리 설치가 완료되면, 이어서 아래 명령어를 입력하고 `Enter` 키를 누릅니다.
    ```
    python 01_data_creation.py
    ```
    - 코드가 실행되면서 원본 데이터(`creditcard.csv`)를 자동으로 다운로드하고, 분석에 필요한 2개의 대용량 데이터셋(`shinsegae_... .csv`)을 `data` 폴더 안에 생성합니다. (실행에 수 분이 소요될 수 있습니다.)

5.  **분석 코드 실행:**
    - 데이터 생성이 완료되면, 이어서 아래 명령어를 입력하고 `Enter` 키를 누릅니다.
    ```
    python 02_fraud_detection.py
    ```
    - 잠시 후, '인간 감사인' 모델과 'AI 탐정 팀' 모델의 성능을 비교하는 최종 결과표가 바로 그 창에 출력됩니다.

---

**Case 2: 미리 생성된 데이터를 다운로드하여 분석 결과만 빠르게 확인**

데이터 생성 과정을 건너뛰고 분석 결과만 빠르게 확인하고 싶으신 경우 이 방법을 사용하세요.

1.  **사전 준비:**
    - 이 GitHub 저장소에서 프로젝트 전체를 다운로드(`Download ZIP`)한 후 압축을 풉니다.
    - 프로젝트 폴더 내에 **`data`** 라는 이름의 새 폴더를 만듭니다.
    - 아래 두 개의 Google Drive 링크에서 미리 생성된 대용량 데이터 파일을 다운로드하여, 방금 만든 **`data`** 폴더 안에 넣어주세요.
        - [shinsegae_sales_ledger_Full.csv 다운로드](https://drive.google.com/uc?export=download&id=1NRnm4wUN9uLBB6Ip5N8dYe1oGSpi4eis)
        - [shinsegae_bank_statement_For_ML.csv 다운로드](https://drive.google.com/uc?export=download&id=1WmuKtBbl8r-JOKrclcs2IuUQpVXNEYiB)

2.  **터미널(CMD) 열기:**
    - 다운로드한 프로젝트 폴더(`CPA-Fraud-Detection-Portfolio-main`)를 엽니다.
    - 폴더 상단의 주소 표시줄을 클릭한 뒤, 내용을 모두 지우고 **`cmd`** 라고 입력한 후 `Enter` 키를 누릅니다.

3.  **라이브러리 설치:**
    - 방금 열린 검은색 명령 창(터미널)에 아래 명령어를 그대로 입력하고 `Enter` 키를 누릅니다.
    ```
    pip install pandas scikit-learn
    ```

4.  **분석 코드 실행:**
    - 라이브러리 설치가 완료되면, 이어서 아래 명령어를 그대로 입력하고 `Enter` 키를 누릅니다.
    ```
    python 02_fraud_detection.py
    ```
    - 잠시 후, '인간 감사인' 모델과 'AI 탐정 팀' 모델의 성능을 비교하는 최종 결과표가 바로 그 창에 출력됩니다.
